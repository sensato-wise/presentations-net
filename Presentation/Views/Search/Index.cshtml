@model IEnumerable<Presentation.Models.PresentationModel> 
@{
    ViewBag.Title = "Presentations";
}

<h2>Search Results for: </h2>
<h2>@ViewBag.Message</h2>

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<link href=@Url.Content("~/Content/ratings/jquery.rating.css") rel="stylesheet" type="text/css" />
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script type="text/javascript">
window.jQuery || document.write('<script type="text/javascript" src="js/jquery-1.6.2.min.js"><\/script>');
</script>
<script type="text/javascript" src="../../Content/ratings/jquery.rating-2.0.min.js"></script>
   			
<table width="100%">
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Tags</th>
        <th>Created By</th>
		@if(Request.IsAuthenticated) {
			<th>Rating</th>
			<th></th>			
			<th>Vote</th>
		}        
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Tags)
        </td>
		<td>
            @Html.DisplayFor(modelItem => item.UserName)
        </td>
		<td>
			<div class="rating" >						
				<input type="hidden" class="vote-id" value="voteID"/>
			</div>
		</td>
            @if(Request.IsAuthenticated) {
                <td>
                @Html.ActionLink("Edit", "Edit", new { id=item.PresentationId })
				</td>
				<td>
					<div class="rating" >									
						<input type="hidden" class="vote-id" value="voteID"/>
					</div>  											
				</td>             
            }		
    </tr>
}
</table>
<script>
   $('div.rating').rating({
	fx: 'full',
       image: '../Content/ratings/images/stars.png',
       loader: '../Content/ratings/images/ajax-loader.gif',
	   url: 'rating.php',

       callback: function(responce){           
           this.vote_success.fadeOut(2000);
       }
});
</script>